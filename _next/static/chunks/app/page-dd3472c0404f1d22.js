(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{338:(e,t,s)=>{Promise.resolve().then(s.bind(s,6630))},6534:(e,t,s)=>{"use strict";s.d(t,{I:()=>r,o:()=>o});var i=s(5155),a=s(2115);let l={en:{general:{appTitle:"Joystick Tools",noGamepad:"No gamepad detected",connected:"Connected",notConnected:"Not connected"},controlPanel:{title:"Control Panel",calibration:"Calibration",resetCalibration:"Reset Calibration",testVibration:"Test Vibration",connectionStatus:"Connection Status"},visualization:{title:"Controller Visualization",noGamepadDetected:"No gamepad detected. Connect a controller and press any button."},dataVisualization:{title:"Data Visualization",inputLog:"Input Log",buttonCounter:"Button Counter",axisGraph:"Axis Graph",deviceInfo:"Device Info",clear:"Clear",noInputEvents:"No input events recorded. Press buttons or move sticks to see events.",pressed:"Pressed",released:"Released"},tabs:{visualization:"Visualization",testing:"Testing"},testing:{title:"Testing Modules",latency:"Latency",analog:"Analog",triggers:"Triggers",vibration:"Vibration",wizard:"Wizard",connectGamepad:"Connect a gamepad to use the testing modules"},latencyTest:{title:"Button Response Latency Test",startTest:"Start Test",getReady:"Get ready...",pressButton:"Press this button now!",nextButton:"Get ready for next button...",results:"Results",test:"Test",average:"Average",description:"This test measures how quickly you can respond to on-screen button prompts. Press the indicated button as soon as you see it appear."},analogCalibration:{title:"Analog Stick Calibration",leftStick:"Left Stick",rightStick:"Right Stick",deadZone:"Dead Zone",sensitivity:"Sensitivity",invertAxes:"Invert Axes",invertX:"Invert X-Axis",invertY:"Invert Y-Axis",description:"Move the analog stick to see its position. Adjust the dead zone to eliminate drift when the stick is at rest. Increase sensitivity for more responsive control or decrease it for more precision."},triggerPrecision:{title:"Trigger Precision Test",leftTrigger:"Left Trigger (LT)",rightTrigger:"Right Trigger (RT)",targetValue:"Target Value",currentValue:"Current Value",target:"Target",precisionScore:"Precision Score",pullAndHold:"Pull and hold trigger",description:"This test measures how precisely you can hold a trigger at a specific position. Try to hold the trigger at exactly the target value for the highest precision score."},vibrationTest:{title:"Vibration Test",notSupported:"Vibration not supported",controllerNoSupport:"Your controller does not support vibration or is not connected.",constant:"Constant",pulse:"Pulse",rampUp:"Ramp Up",weakRumble:"Weak Rumble",strongRumble:"Strong Rumble",duration:"Duration",testVibration:"Test Vibration",stop:"Stop",description:"Test your controller's vibration capabilities. Adjust the intensity and duration to find the right feedback for your game. The weak rumble uses high-frequency motors, while the strong rumble uses low-frequency motors."},calibrationWizard:{title:"Calibration Wizard",step:"Step",of:"of",previous:"Previous",next:"Next",startCollecting:"Start Collecting",collectAgain:"Collect Again",finish:"Finish",connectController:"Please connect a controller to use the calibration wizard.",steps:{introduction:{title:"Introduction",description:"This wizard will help you calibrate your controller for optimal performance."},leftStick:{title:"Left Stick",description:"Move the left stick in a full circle, reaching the edges of its range."},rightStick:{title:"Right Stick",description:"Move the right stick in a full circle, reaching the edges of its range."},triggers:{title:"Triggers",description:"Press and release both triggers several times, fully pressing them each time."},complete:{title:"Complete",description:"Calibration complete! Your controller is now optimized for better performance."}}},gamepadType:{xbox:"Xbox Controller",playstation:"PlayStation Controller",generic:"Generic Controller",detected:"Detected:"},language:{english:"English",arabic:"العربية"},direction:"ltr"},ar:{general:{appTitle:"أدوات عصا التحكم",noGamepad:"لم يتم اكتشاف وحدة تحكم",connected:"متصل",notConnected:"غير متصل"},controlPanel:{title:"لوحة التحكم",calibration:"المعايرة",resetCalibration:"إعادة ضبط المعايرة",testVibration:"اختبار الاهتزاز",connectionStatus:"حالة الاتصال"},visualization:{title:"تصور وحدة التحكم",noGamepadDetected:"لم يتم اكتشاف وحدة تحكم. قم بتوصيل وحدة تحكم واضغط على أي زر."},dataVisualization:{title:"تصور البيانات",inputLog:"سجل الإدخال",buttonCounter:"عداد الأزرار",axisGraph:"رسم المحاور",deviceInfo:"معلومات الجهاز",clear:"مسح",noInputEvents:"لم يتم تسجيل أحداث إدخال. اضغط على الأزرار أو حرك العصي لرؤية الأحداث.",pressed:"مضغوط",released:"محرر"},tabs:{visualization:"التصور",testing:"الاختبار"},testing:{title:"وحدات الاختبار",latency:"زمن الاستجابة",analog:"تناظري",triggers:"الزناد",vibration:"الاهتزاز",wizard:"المعالج",connectGamepad:"قم بتوصيل وحدة تحكم لاستخدام وحدات الاختبار"},latencyTest:{title:"اختبار زمن استجابة الزر",startTest:"بدء الاختبار",getReady:"استعد...",pressButton:"اضغط على هذا الزر الآن!",nextButton:"استعد للزر التالي...",results:"النتائج",test:"اختبار",average:"المتوسط",description:"يقيس هذا الاختبار مدى سرعة استجابتك لمطالبات الأزرار على الشاشة. اضغط على الزر المشار إليه بمجرد ظهوره."},analogCalibration:{title:"معايرة العصا التناظرية",leftStick:"العصا اليسرى",rightStick:"العصا اليمنى",deadZone:"المنطقة الميتة",sensitivity:"الحساسية",invertAxes:"عكس المحاور",invertX:"عكس محور X",invertY:"عكس محور Y",description:"حرك العصا التناظرية لرؤية موضعها. اضبط المنطقة الميتة للقضاء على الانجراف عندما تكون العصا في وضع الراحة. زيادة الحساسية للتحكم الأكثر استجابة أو تقليلها لمزيد من الدقة."},triggerPrecision:{title:"اختبار دقة الزناد",leftTrigger:"الزناد الأيسر (LT)",rightTrigger:"الزناد الأيمن (RT)",targetValue:"القيمة المستهدفة",currentValue:"القيمة الحالية",target:"الهدف",precisionScore:"درجة الدقة",pullAndHold:"اسحب وامسك الزناد",description:"يقيس هذا الاختبار مدى دقة إمساكك للزناد في موضع محدد. حاول إمساك الزناد بالضبط عند القيمة المستهدفة للحصول على أعلى درجة دقة."},vibrationTest:{title:"اختبار الاهتزاز",notSupported:"الاهتزاز غير مدعوم",controllerNoSupport:"وحدة التحكم الخاصة بك لا تدعم الاهتزاز أو غير متصلة.",constant:"ثابت",pulse:"نبض",rampUp:"تصاعد",weakRumble:"اهتزاز ضعيف",strongRumble:"اهتزاز قوي",duration:"المدة",testVibration:"اختبار الاهتزاز",stop:"إيقاف",description:"اختبر قدرات الاهتزاز في وحدة التحكم الخاصة بك. اضبط الشدة والمدة للعثور على التغذية الراجعة المناسبة للعبتك. يستخدم الاهتزاز الضعيف محركات عالية التردد، بينما يستخدم الاهتزاز القوي محركات منخفضة التردد."},calibrationWizard:{title:"معالج المعايرة",step:"خطوة",of:"من",previous:"السابق",next:"التالي",startCollecting:"بدء التجميع",collectAgain:"تجميع مرة أخرى",finish:"إنهاء",connectController:"يرجى توصيل وحدة تحكم لاستخدام معالج المعايرة.",steps:{introduction:{title:"مقدمة",description:"سيساعدك هذا المعالج على معايرة وحدة التحكم الخاصة بك للحصول على أداء مثالي."},leftStick:{title:"العصا اليسرى",description:"حرك العصا اليسرى في دائرة كاملة، للوصول إلى حواف نطاقها."},rightStick:{title:"العصا اليمنى",description:"حرك العصا اليمنى في دائرة كاملة، للوصول إلى حواف نطاقها."},triggers:{title:"الزناد",description:"اضغط وحرر كلا الزنادين عدة مرات، مع الضغط عليهما بالكامل في كل مرة."},complete:{title:"اكتمال",description:"اكتملت المعايرة! تم الآن تحسين وحدة التحكم الخاصة بك للحصول على أداء أفضل."}}},gamepadType:{xbox:"وحدة تحكم إكس بوكس",playstation:"وحدة تحكم بلاي ستيشن",generic:"وحدة تحكم عامة",detected:"تم اكتشاف:"},language:{english:"English",arabic:"العربية"},direction:"rtl"}},n=(0,a.createContext)(void 0);function r(e){let{children:t}=e,[s,r]=(0,a.useState)("en"),[o,c]=(0,a.useState)("ltr"),[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem("language");e&&l[e]&&r(e)},[]),(0,a.useEffect)(()=>{localStorage.setItem("language",s);let e=l[s].direction;c(e),u("rtl"===e),document.documentElement.dir=e,document.documentElement.lang=s,document.documentElement.classList.remove("lang-en","lang-ar"),document.documentElement.classList.add("lang-".concat(s)),"rtl"===e?(document.body.classList.add("rtl-active"),document.body.style.fontFamily="var(--font-noto-sans-arabic), Arial, sans-serif"):(document.body.classList.remove("rtl-active"),document.body.style.fontFamily="var(--font-inter), ui-sans-serif, system-ui, sans-serif")},[s]);let m=l[s];return(0,i.jsx)(n.Provider,{value:{language:s,currentLanguage:s,t:m,setLanguage:r,direction:o,isRTL:d},children:t})}function o(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},6630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>e9});var i=s(5155),a=s(2115);function l(e,t,s,i,a,l){let n=Math.sqrt(e*e+t*t);if(n<s)return[0,0];let r=Math.min(1,(n-s)/(1-s)),o=e/n*r*i,c=t/n*r*i;return a&&(o=-o),l&&(c=-c),[o,c]}var n=s(2596),r=s(9688);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,n.$)(t))}let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});c.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",s),...a})});d.displayName="CardHeader";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("text-2xl font-semibold leading-none tracking-tight",s),...a})});u.displayName="CardTitle";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("text-sm text-muted-foreground",s),...a})});m.displayName="CardDescription";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("p-6 pt-0",s),...a})});x.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter";var f=s(6534);let h={0:{xbox:"A",playstation:"\xd7",generic:"A"},1:{xbox:"B",playstation:"○",generic:"B"},2:{xbox:"X",playstation:"□",generic:"X"},3:{xbox:"Y",playstation:"△",generic:"Y"},4:{xbox:"LB",playstation:"L1",generic:"LB"},5:{xbox:"RB",playstation:"R1",generic:"RB"},6:{xbox:"LT",playstation:"L2",generic:"LT"},7:{xbox:"RT",playstation:"R2",generic:"RT"},8:{xbox:"Back",playstation:"Share",generic:"Select"},9:{xbox:"Start",playstation:"Options",generic:"Start"},10:{xbox:"LS",playstation:"L3",generic:"LS"},11:{xbox:"RS",playstation:"R3",generic:"RS"},12:{xbox:"Up",playstation:"Up",generic:"Up"},13:{xbox:"Down",playstation:"Down",generic:"Down"},14:{xbox:"Left",playstation:"Left",generic:"Left"},15:{xbox:"Right",playstation:"Right",generic:"Right"},16:{xbox:"Guide",playstation:"PS",generic:"Home"}},g=(0,a.createContext)(void 0);function p(e){let{children:t,gamepadState:s}=e,[l,n]=(0,a.useState)("generic");return(0,a.useEffect)(()=>{s.connected?n(function(e){let t=e.toLowerCase();return t.includes("xbox")||t.includes("microsoft")?"xbox":t.includes("playstation")||t.includes("sony")||t.includes("dualshock")||t.includes("dualsense")?"playstation":"generic"}(s.id)):n("generic")},[s.connected,s.id]),(0,i.jsx)(g.Provider,{value:{controllerType:l,getButtonName:e=>(function(e,t){let s=h[e];return s?s[t]:"Button ".concat(e)})(e,l)},children:t})}function v(){let e=(0,a.useContext)(g);if(void 0===e)throw Error("useGamepadType must be used within a GamepadTypeProvider");return e}function b(e){let{gamepadState:t,calibrationData:s}=e,n=(0,a.useRef)(null),{t:r,isRTL:o}=(0,f.o)(),{controllerType:d}=v();return(0,a.useEffect)(()=>{let e=n.current;if(!e)return;let i=e.getContext("2d");i&&(i.clearRect(0,0,e.width,e.height),o&&(i.save(),i.translate(e.width,0),i.scale(-1,1)),"playstation"===d?function(e,t,s){var i,a,n,r,o,c,d,u,m,x,f,h,g,p,v,b,j;let{width:y,height:N}=e.canvas,S=Math.min(y/600,N/400);e.save(),e.translate(y/2-400*S/2,N/2-280*S/2),e.beginPath(),e.moveTo(100*S,70*S),e.bezierCurveTo(50*S,70*S,20*S,120*S,20*S,145*S),e.lineTo(20*S,195*S),e.bezierCurveTo(20*S,220*S,50*S,270*S,100*S,270*S),e.lineTo(300*S,270*S),e.bezierCurveTo(350*S,270*S,380*S,220*S,380*S,195*S),e.lineTo(380*S,145*S),e.bezierCurveTo(380*S,120*S,350*S,70*S,300*S,70*S),e.closePath(),e.fillStyle=t.connected?"#303030":"#666",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke();let k=100*S,w=140*S,T=15*S;e.beginPath(),e.arc(k,w,T+10*S,0,2*Math.PI),e.fillStyle="#222",e.fill(),e.beginPath(),e.moveTo(k,w-T),e.lineTo(k-T,w-T),e.lineTo(k-T,w-2*T),e.lineTo(k+T,w-2*T),e.lineTo(k+T,w-T),e.lineTo(k,w-T),e.fillStyle=t.connected&&(null===(i=t.buttons[12])||void 0===i?void 0:i.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke(),e.beginPath(),e.moveTo(k+T,w),e.lineTo(k+T,w-T),e.lineTo(k+2*T,w-T),e.lineTo(k+2*T,w+T),e.lineTo(k+T,w+T),e.lineTo(k+T,w),e.fillStyle=t.connected&&(null===(a=t.buttons[15])||void 0===a?void 0:a.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke(),e.beginPath(),e.moveTo(k,w+T),e.lineTo(k-T,w+T),e.lineTo(k-T,w+2*T),e.lineTo(k+T,w+2*T),e.lineTo(k+T,w+T),e.lineTo(k,w+T),e.fillStyle=t.connected&&(null===(n=t.buttons[13])||void 0===n?void 0:n.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke(),e.beginPath(),e.moveTo(k-T,w),e.lineTo(k-T,w-T),e.lineTo(k-2*T,w-T),e.lineTo(k-2*T,w+T),e.lineTo(k-T,w+T),e.lineTo(k-T,w),e.fillStyle=t.connected&&(null===(r=t.buttons[14])||void 0===r?void 0:r.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke();let C=100*S,P=210*S,M=20*S,A=M+5*S;if(e.beginPath(),e.arc(C,P,A,0,2*Math.PI),e.fillStyle="#222",e.fill(),t.connected){let[i,a]=l(t.axes[0],t.axes[1],s.deadZones.leftStick,s.sensitivity.leftStick,s.invert.leftStickX,s.invert.leftStickY);e.beginPath(),e.arc(C+i*M,P+a*M,M,0,2*Math.PI),e.fillStyle=(null===(p=t.buttons[10])||void 0===p?void 0:p.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke()}else e.beginPath(),e.arc(C,P,M,0,2*Math.PI),e.fillStyle="#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke();let R=300*S,I=250*S;if(e.beginPath(),e.arc(R,I,A,0,2*Math.PI),e.fillStyle="#222",e.fill(),t.connected){let[i,a]=l(t.axes[2],t.axes[3],s.deadZones.rightStick,s.sensitivity.rightStick,s.invert.rightStickX,s.invert.rightStickY);e.beginPath(),e.arc(R+i*M,I+a*M,M,0,2*Math.PI),e.fillStyle=(null===(v=t.buttons[11])||void 0===v?void 0:v.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke()}else e.beginPath(),e.arc(R,I,M,0,2*Math.PI),e.fillStyle="#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke();let z=15*S,L=300*S,V=140*S,E=30*S;e.beginPath(),e.arc(L,V+E,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(o=t.buttons[0])||void 0===o?void 0:o.pressed)?"#3b82f6":"#5c9ade",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.moveTo(L-8*S,V+E-8*S),e.lineTo(L+8*S,V+E+8*S),e.moveTo(L+8*S,V+E-8*S),e.lineTo(L-8*S,V+E+8*S),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.arc(L+E,V,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(c=t.buttons[1])||void 0===c?void 0:c.pressed)?"#3b82f6":"#e94444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.arc(L+E,V,8*S,0,2*Math.PI),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.arc(L-E,V,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(d=t.buttons[2])||void 0===d?void 0:d.pressed)?"#3b82f6":"#9c44e9",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.rect(L-E-7*S,V-7*S,14*S,14*S),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.arc(L,V-E,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(u=t.buttons[3])||void 0===u?void 0:u.pressed)?"#3b82f6":"#4fe944",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.moveTo(L,V-E-7*S),e.lineTo(L+8*S,V-E+5*S),e.lineTo(L-8*S,V-E+5*S),e.closePath(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke();let D=60*S,W=20*S,B=40*S,Z=25*S,G=40*S,Y=15*S;if(e.beginPath(),e.rect(50*S,G,D,W),e.fillStyle=t.connected&&(null===(m=t.buttons[4])||void 0===m?void 0:m.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.font="".concat(10*S,"px Arial"),e.textAlign="center",e.textBaseline="middle",e.fillText("L1",(50+D/2)*S,G+W/2),e.beginPath(),e.rect(290*S,G,D,W),e.fillStyle=t.connected&&(null===(x=t.buttons[5])||void 0===x?void 0:x.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.fillText("R1",(290+D/2)*S,G+W/2),e.beginPath(),e.rect(60*S,Y,B,Z),t.connected){let i=(null===(b=t.buttons[6])||void 0===b?void 0:b.value)||0,a=i;a=i>s.deadZones.triggers?(i-s.deadZones.triggers)/(1-s.deadZones.triggers)*s.sensitivity.triggers:0;let l=e.createLinearGradient(60*S,Y,(60+B)*S,Y);l.addColorStop(0,"#444"),l.addColorStop(a,"#3b82f6"),l.addColorStop(a,"#444"),l.addColorStop(1,"#444"),e.fillStyle=l}else e.fillStyle="#444";if(e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.fillText("L2",(60+B/2)*S,Y+Z/2),e.beginPath(),e.rect(300*S,Y,B,Z),t.connected){let i=(null===(j=t.buttons[7])||void 0===j?void 0:j.value)||0,a=i;a=i>s.deadZones.triggers?(i-s.deadZones.triggers)/(1-s.deadZones.triggers)*s.sensitivity.triggers:0;let l=e.createLinearGradient(300*S,Y,(300+B)*S,Y);l.addColorStop(0,"#444"),l.addColorStop(a,"#3b82f6"),l.addColorStop(a,"#444"),l.addColorStop(1,"#444"),e.fillStyle=l}else e.fillStyle="#444";e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.fillText("R2",(300+B/2)*S,Y+Z/2);let F=25*S,X=15*S,U=140*S,O=15*S;e.beginPath(),e.ellipse(200*S-O-F/2,U,F/2,X/2,0,0,2*Math.PI),e.fillStyle=t.connected&&(null===(f=t.buttons[8])||void 0===f?void 0:f.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.font="".concat(6*S,"px Arial"),e.fillText("SHARE",200*S-O-F/2,U),e.beginPath(),e.ellipse(200*S+O+F/2,U,F/2,X/2,0,0,2*Math.PI),e.fillStyle=t.connected&&(null===(h=t.buttons[9])||void 0===h?void 0:h.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillText("OPTIONS",200*S+O+F/2,U),e.beginPath(),e.arc(200*S,U+35*S,15*S,0,2*Math.PI),e.fillStyle=t.connected&&(null===(g=t.buttons[16])||void 0===g?void 0:g.pressed)?"#3b82f6":"#444",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.font="".concat(10*S,"px Arial"),e.fillText("PS",200*S,U+35*S),e.restore()}(i,t,s):function(e,t,s){var i,a,n,r,o,c,d,u,m,x,f,h,g,p,v,b,j;let{width:y,height:N}=e.canvas,S=Math.min(y/600,N/400);e.save(),e.translate(y/2-400*S/2,N/2-280*S/2),e.beginPath(),e.moveTo(100*S,70*S),e.bezierCurveTo(50*S,70*S,20*S,120*S,20*S,145*S),e.lineTo(20*S,195*S),e.bezierCurveTo(20*S,220*S,50*S,270*S,100*S,270*S),e.lineTo(300*S,270*S),e.bezierCurveTo(350*S,270*S,380*S,220*S,380*S,195*S),e.lineTo(380*S,145*S),e.bezierCurveTo(380*S,120*S,350*S,70*S,300*S,70*S),e.closePath(),e.fillStyle=t.connected?"#333":"#666",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke();let k=100*S,w=140*S,T=20*S,C=T+5*S;if(e.beginPath(),e.arc(k,w,C,0,2*Math.PI),e.fillStyle="#222",e.fill(),t.connected){let[i,a]=l(t.axes[0],t.axes[1],s.deadZones.leftStick,s.sensitivity.leftStick,s.invert.leftStickX,s.invert.leftStickY);e.beginPath(),e.arc(k+i*T,w+a*T,T,0,2*Math.PI),e.fillStyle=(null===(p=t.buttons[10])||void 0===p?void 0:p.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke()}else e.beginPath(),e.arc(k,w,T,0,2*Math.PI),e.fillStyle="#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke();let P=300*S,M=220*S;if(e.beginPath(),e.arc(P,M,C,0,2*Math.PI),e.fillStyle="#222",e.fill(),t.connected){let[i,a]=l(t.axes[2],t.axes[3],s.deadZones.rightStick,s.sensitivity.rightStick,s.invert.rightStickX,s.invert.rightStickY);e.beginPath(),e.arc(P+i*T,M+a*T,T,0,2*Math.PI),e.fillStyle=(null===(v=t.buttons[11])||void 0===v?void 0:v.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke()}else e.beginPath(),e.arc(P,M,T,0,2*Math.PI),e.fillStyle="#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke();let A=100*S,R=210*S,I=15*S;e.beginPath(),e.arc(A,R,I+10*S,0,2*Math.PI),e.fillStyle="#222",e.fill(),e.beginPath(),e.moveTo(A,R-I),e.lineTo(A-I,R-I),e.lineTo(A-I,R-2*I),e.lineTo(A+I,R-2*I),e.lineTo(A+I,R-I),e.lineTo(A,R-I),e.fillStyle=t.connected&&(null===(i=t.buttons[12])||void 0===i?void 0:i.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke(),e.beginPath(),e.moveTo(A+I,R),e.lineTo(A+I,R-I),e.lineTo(A+2*I,R-I),e.lineTo(A+2*I,R+I),e.lineTo(A+I,R+I),e.lineTo(A+I,R),e.fillStyle=t.connected&&(null===(a=t.buttons[15])||void 0===a?void 0:a.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke(),e.beginPath(),e.moveTo(A,R+I),e.lineTo(A-I,R+I),e.lineTo(A-I,R+2*I),e.lineTo(A+I,R+2*I),e.lineTo(A+I,R+I),e.lineTo(A,R+I),e.fillStyle=t.connected&&(null===(n=t.buttons[13])||void 0===n?void 0:n.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke(),e.beginPath(),e.moveTo(A-I,R),e.lineTo(A-I,R-I),e.lineTo(A-2*I,R-I),e.lineTo(A-2*I,R+I),e.lineTo(A-I,R+I),e.lineTo(A-I,R),e.fillStyle=t.connected&&(null===(r=t.buttons[14])||void 0===r?void 0:r.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=+S,e.stroke();let z=15*S,L=300*S,V=140*S,E=30*S;e.beginPath(),e.arc(L,V+E,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(o=t.buttons[0])||void 0===o?void 0:o.pressed)?"#3b82f6":"#0f0",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#111",e.font="".concat(12*S,"px Arial"),e.textAlign="center",e.textBaseline="middle",e.fillText("A",L,V+E),e.beginPath(),e.arc(L+E,V,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(c=t.buttons[1])||void 0===c?void 0:c.pressed)?"#3b82f6":"#f00",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#111",e.fillText("B",L+E,V),e.beginPath(),e.arc(L-E,V,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(d=t.buttons[2])||void 0===d?void 0:d.pressed)?"#3b82f6":"#00f",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.fillText("X",L-E,V),e.beginPath(),e.arc(L,V-E,z,0,2*Math.PI),e.fillStyle=t.connected&&(null===(u=t.buttons[3])||void 0===u?void 0:u.pressed)?"#3b82f6":"#ff0",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#111",e.fillText("Y",L,V-E);let D=60*S,W=20*S,B=40*S,Z=25*S,G=40*S,Y=15*S;if(e.beginPath(),e.rect(50*S,G,D,W),e.fillStyle=t.connected&&(null===(m=t.buttons[4])||void 0===m?void 0:m.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.font="".concat(10*S,"px Arial"),e.textAlign="center",e.textBaseline="middle",e.fillText("LB",(50+D/2)*S,G+W/2),e.beginPath(),e.rect(290*S,G,D,W),e.fillStyle=t.connected&&(null===(x=t.buttons[5])||void 0===x?void 0:x.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.fillText("RB",(290+D/2)*S,G+W/2),e.beginPath(),e.rect(60*S,Y,B,Z),t.connected){let i=(null===(b=t.buttons[6])||void 0===b?void 0:b.value)||0,a=i;a=i>s.deadZones.triggers?(i-s.deadZones.triggers)/(1-s.deadZones.triggers)*s.sensitivity.triggers:0;let l=e.createLinearGradient(60*S,Y,(60+B)*S,Y);l.addColorStop(0,"#555"),l.addColorStop(a,"#3b82f6"),l.addColorStop(a,"#555"),l.addColorStop(1,"#555"),e.fillStyle=l}else e.fillStyle="#555";if(e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.fillText("LT",(60+B/2)*S,Y+Z/2),e.beginPath(),e.rect(300*S,Y,B,Z),t.connected){let i=(null===(j=t.buttons[7])||void 0===j?void 0:j.value)||0,a=i;a=i>s.deadZones.triggers?(i-s.deadZones.triggers)/(1-s.deadZones.triggers)*s.sensitivity.triggers:0;let l=e.createLinearGradient(300*S,Y,(300+B)*S,Y);l.addColorStop(0,"#555"),l.addColorStop(a,"#3b82f6"),l.addColorStop(a,"#555"),l.addColorStop(1,"#555"),e.fillStyle=l}else e.fillStyle="#555";e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.fillStyle="#fff",e.fillText("RT",(300+B/2)*S,Y+Z/2);let F=30*S,X=15*S,U=140*S,O=12*S;e.beginPath(),e.ellipse(200*S-O-F/2,U,F/2,X/2,0,0,2*Math.PI),e.fillStyle=t.connected&&(null===(f=t.buttons[8])||void 0===f?void 0:f.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.ellipse(200*S+O+F/2,U,F/2,X/2,0,0,2*Math.PI),e.fillStyle=t.connected&&(null===(h=t.buttons[9])||void 0===h?void 0:h.pressed)?"#3b82f6":"#555",e.fill(),e.strokeStyle="#222",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.arc(200*S,U,15*S,0,2*Math.PI),e.fillStyle=t.connected&&(null===(g=t.buttons[16])||void 0===g?void 0:g.pressed)?"#3b82f6":"#222",e.fill(),e.strokeStyle="#111",e.lineWidth=2*S,e.stroke(),e.beginPath(),e.arc(200*S,U,10*S,0,2*Math.PI),e.fillStyle="#0f0",e.fill(),e.strokeStyle="#111",e.lineWidth=+S,e.stroke(),e.restore()}(i,t,s),o&&i.restore())},[t,s,d,o]),(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:r.visualization.title}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("canvas",{ref:n,width:600,height:400,className:"border border-border rounded-md bg-card ".concat(o?"rtl-canvas":"")})}),!t.connected&&(0,i.jsx)("div",{className:"mt-4 text-center text-muted-foreground",children:r.visualization.noGamepadDetected})]})})}var j=s(9708),y=s(2085);let N=(0,y.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:n=!1,...r}=e,c=n?j.DX:"button";return(0,i.jsx)(c,{className:o(N({variant:a,size:l,className:s})),ref:t,...r})});S.displayName="Button";var k=s(7631),w=s(235),T=s(1284),C=s(133),P=s(9735),M=s(9099),A=s(3786);function R(){let{t:e,direction:t,currentLanguage:s}=(0,f.o)();return(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsxs)(c,{children:[(0,i.jsxs)(d,{children:[(0,i.jsx)(u,{children:"en"===s?"About Joystick Tools":"حول أدوات عصا التحكم"}),(0,i.jsx)(m,{children:"en"===s?"An advanced gamepad testing and calibration utility":"أداة متقدمة لاختبار ومعايرة وحدات التحكم"})]}),(0,i.jsxs)(x,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium mb-2",children:"en"===s?"Features":"الميزات"}),(0,i.jsxs)("ul",{className:"list-disc ".concat("rtl"===t?"mr-5":"ml-5"," space-y-1"),children:[(0,i.jsx)("li",{children:"en"===s?"Interactive gamepad visualization":"تصور تفاعلي لوحدة التحكم"}),(0,i.jsx)("li",{children:"en"===s?"Button response latency testing":"اختبار زمن استجابة الأزرار"}),(0,i.jsx)("li",{children:"en"===s?"Analog stick calibration":"معايرة عصا التحكم التناظرية"}),(0,i.jsx)("li",{children:"en"===s?"Gamepad authenticity verification":"التحقق من أصالة وحدة التحكم"}),(0,i.jsx)("li",{children:"en"===s?"Multi-language support (English & Arabic)":"دعم متعدد اللغات (الإنجليزية والعربية)"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium mb-2",children:"en"===s?"Developer":"المطور"}),(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,i.jsx)("img",{src:"https://github.com/CODE-NAME-IN-B.png",alt:"Profile",className:"w-12 h-12 rounded-full"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:"CODE-NAME-IN-B"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"en"===s?"Web & Mobile Developer":"مطور ويب وتطبيقات جوال"})]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,i.jsxs)("a",{href:"https://github.com/CODE-NAME-IN-B",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm bg-muted hover:bg-muted/80",children:[(0,i.jsx)(M.A,{className:"h-4 w-4"}),"GitHub"]}),(0,i.jsxs)("a",{href:"https://lostboi.carrd.co/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm bg-muted hover:bg-muted/80",children:[(0,i.jsx)(A.A,{className:"h-4 w-4"}),"Website"]})]})]}),(0,i.jsxs)("div",{className:"border-t pt-4 mt-4 text-sm text-muted-foreground",children:[(0,i.jsx)("p",{children:"en"===s?"This project is open source and available on GitHub.":"هذا المشروع مفتوح المصدر ومتاح على GitHub."}),(0,i.jsx)("p",{className:"mt-1",children:"\xa9 2024 Joystick Tools"})]})]})]})})}function I(e){let{activeTab:t,setActiveTab:s,gamepadState:a,calibrationData:l,setCalibrationData:n}=e,{t:r,direction:o,isRTL:h}=(0,f.o)();return(0,i.jsxs)(c,{className:"h-full",children:[(0,i.jsxs)(d,{className:"pb-3",children:[(0,i.jsx)(u,{children:r.controlPanel.title}),(0,i.jsx)(m,{children:h?"تحكم في الإعدادات واختبار وحدة التحكم":"Control settings and test your gamepad"})]}),(0,i.jsx)(x,{className:"p-0",children:(0,i.jsxs)("div",{className:"border-t",children:[(0,i.jsxs)("div",{className:"p-2 flex ".concat("rtl"===o?"flex-row-reverse":""," border-b"),children:[(0,i.jsxs)(S,{variant:"visualization"===t?"default":"ghost",className:"flex-1 ".concat(h?"ml-1":"mr-1"," justify-start"),onClick:()=>s("visualization"),children:[(0,i.jsx)(k.A,{className:"h-4 w-4 ".concat(h?"ml-2":"mr-2")}),h?"عرض":"Visualize"]}),(0,i.jsxs)(S,{variant:"testing"===t?"default":"ghost",className:"flex-1 justify-start",onClick:()=>s("testing"),children:[(0,i.jsx)(w.A,{className:"h-4 w-4 ".concat(h?"ml-2":"mr-2")}),h?"اختبار":"Test"]}),(0,i.jsxs)(S,{variant:"about"===t?"default":"ghost",className:"flex-1 justify-start",onClick:()=>s("about"),children:[(0,i.jsx)(T.A,{className:"h-4 w-4 ".concat(h?"ml-2":"mr-2")}),h?"حول":"About"]})]}),"about"===t?(0,i.jsx)("div",{className:"p-4",children:(0,i.jsx)(R,{})}):(0,i.jsxs)("div",{className:"space-y-4 p-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:r.controlPanel.calibration}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)(S,{variant:"outline",size:"sm",onClick:()=>{n({deadZones:{leftStick:.1,rightStick:.1,triggers:.05},sensitivity:{leftStick:1,rightStick:1,triggers:1},invert:{leftStickX:!1,leftStickY:!1,rightStickX:!1,rightStickY:!1}})},children:(0,i.jsxs)("div",{className:"flex items-center ".concat(h?"flex-row-reverse":"flex-row"),children:[(0,i.jsx)(C.A,{className:"h-3.5 w-3.5 ".concat(h?"mr-0 ml-2":"ml-0 mr-2")}),(0,i.jsx)("span",{children:r.controlPanel.resetCalibration})]})}),a.vibrationActuator&&(0,i.jsx)(S,{variant:"outline",size:"sm",onClick:()=>{a.vibrationActuator&&a.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:200,weakMagnitude:.5,strongMagnitude:.5})},children:(0,i.jsxs)("div",{className:"flex items-center ".concat(h?"flex-row-reverse":"flex-row"),children:[(0,i.jsx)(P.A,{className:"h-3.5 w-3.5 ".concat(h?"mr-0 ml-2":"ml-0 mr-2")}),(0,i.jsx)("span",{children:r.controlPanel.testVibration})]})})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:r.controlPanel.connectionStatus}),(0,i.jsx)("div",{className:"text-sm p-2 rounded bg-muted",children:a.connected?(0,i.jsxs)("div",{className:"flex flex-col ".concat(h?"items-end text-right":"items-start text-left"),children:[(0,i.jsx)("span",{className:"text-green-500 font-medium",children:r.general.connected}),(0,i.jsx)("span",{className:"text-xs text-muted-foreground",children:a.id}),(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Index: ",a.index]}),(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Mapping: ",a.mapping]})]}):(0,i.jsx)("span",{className:"text-red-500",children:r.general.noGamepad})})]})]})]})})]})}var z=s(232),L=s(5778),V=s(9368),E=s(2098),D=s(3509),W=s(5452),B=s(4416);let Z=W.bL,G=W.l9,Y=W.ZL,F=W.bm,X=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(W.hJ,{ref:t,className:o("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});X.displayName=W.hJ.displayName;let U=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,i.jsxs)(Y,{children:[(0,i.jsx)(X,{}),(0,i.jsxs)(W.UC,{ref:t,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[a,(0,i.jsxs)(W.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(B.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});U.displayName=W.UC.displayName;let O=e=>{let{className:t,...s}=e;return(0,i.jsx)("div",{className:o("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};O.displayName="DialogHeader";let _=e=>{let{className:t,...s}=e;return(0,i.jsx)("div",{className:o("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};_.displayName="DialogFooter";let q=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(W.hE,{ref:t,className:o("text-lg font-semibold leading-none tracking-tight",s),...a})});q.displayName=W.hE.displayName;let H=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(W.VY,{ref:t,className:o("text-sm text-muted-foreground",s),...a})});H.displayName=W.VY.displayName;let J=(0,y.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function K(e){let{className:t,variant:s,...a}=e;return(0,i.jsx)("div",{className:o(J({variant:s}),t),...a})}function Q(e){let{gamepadState:t,theme:s,toggleTheme:l}=e,{t:n,direction:r,currentLanguage:o}=(0,f.o)(),{controllerType:c,controllerTypeLabel:d,controllerAuthenticity:u,authenticityLabel:m}=v(),[x,h]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-card rounded-lg shadow-sm ".concat("rtl"===r?"flex-row-reverse":""),children:[(0,i.jsx)("div",{className:"flex items-center ".concat("rtl"===r?"space-x-reverse space-x-2":"space-x-2"),children:t.connected?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.A,{className:"h-5 w-5 text-green-500"}),(0,i.jsx)("span",{className:"font-medium",children:n.general.connected})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.A,{className:"h-5 w-5 text-red-500"}),(0,i.jsx)("span",{className:"text-sm text-muted-foreground",children:n.general.noGamepad})]})}),(0,i.jsxs)("div",{className:"flex items-center ".concat("rtl"===r?"space-x-reverse space-x-2":"space-x-2"),children:[t.connected&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(Z,{open:x,onOpenChange:h,children:[(0,i.jsx)(G,{asChild:!0,children:(0,i.jsxs)(S,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[(0,i.jsx)("span",{children:d}),(()=>{switch(u){case"original":return(0,i.jsx)(z.A,{className:"h-4 w-4 text-green-500"});case"counterfeit":return(0,i.jsx)(L.A,{className:"h-4 w-4 text-red-500"});default:return(0,i.jsx)(V.A,{className:"h-4 w-4 text-yellow-500"})}})(),(0,i.jsx)(T.A,{className:"h-4 w-4 ml-1"})]})}),(0,i.jsxs)(U,{children:[(0,i.jsxs)(O,{children:[(0,i.jsx)(q,{children:"en"===o?"Gamepad Information":"معلومات وحدة التحكم"}),(0,i.jsx)(H,{children:"en"===o?"Details about your connected controller":"تفاصيل حول وحدة التحكم المتصلة"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"en"===o?"Controller Type":"نوع وحدة التحكم"}),(0,i.jsx)("p",{className:"text-sm",children:d})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"en"===o?"Authenticity":"الأصالة"}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:(()=>{switch(u){case"original":return(0,i.jsx)(K,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-300",children:"en"===o?"Original":"أصلية"});case"counterfeit":return(0,i.jsx)(K,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-300",children:"en"===o?"Counterfeit":"مقلدة"});default:return(0,i.jsx)(K,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-300",children:"en"===o?"Unknown":"غير معروفة"})}})()})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"en"===o?"Device ID":"معرف الجهاز"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground break-all",children:t.id})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"en"===o?"Mapping":"نوع التعيين"}),(0,i.jsx)("p",{className:"text-sm",children:t.mapping||"unknown"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"en"===o?"Index":"الفهرس"}),(0,i.jsx)("p",{className:"text-sm",children:t.index})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"en"===o?"Features":"الميزات"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[(0,i.jsx)(K,{variant:t.vibrationActuator?"default":"outline",children:"en"===o?"Vibration":"الاهتزاز"}),(0,i.jsx)(K,{variant:t.buttons.length>=16?"default":"outline",children:"en"===o?"Standard Buttons":"أزرار قياسية"}),(0,i.jsx)(K,{variant:t.axes.length>=4?"default":"outline",children:"en"===o?"Analog Sticks":"عصا تناظرية"})]})]})]})]})]})}),(0,i.jsx)(S,{variant:"ghost",size:"icon",onClick:l,children:"dark"===s?(0,i.jsx)(E.A,{className:"h-5 w-5"}):(0,i.jsx)(D.A,{className:"h-5 w-5"})})]})]})}var $=s(5863);let ee=a.forwardRef((e,t)=>{let{className:s,value:a,...l}=e;return(0,i.jsx)($.bL,{ref:t,className:o("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,i.jsx)($.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});ee.displayName=$.bL.displayName;var et=s(6766);function es(e){let{gamepadState:t}=e,{t:s,direction:l,currentLanguage:n}=(0,f.o)(),{controllerType:r,getButtonName:o,getButtonImage:d}=v(),[u,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[p,b]=(0,a.useState)([]),[j,y]=(0,a.useState)(3),[N,k]=(0,a.useState)(null),[w,T]=(0,a.useState)(null),[C,P]=(0,a.useState)(!1),M=(0,a.useRef)(null),A=(0,a.useRef)([]),R={xbox:[0,1,2,3],playstation:[0,1,2,3],generic:[0,1,2,3]};(0,a.useEffect)(()=>{t.connected&&!u&&(A.current=t.buttons.map(e=>e.pressed))},[t,u]);let I=()=>{let e=R[r],t=e[Math.floor(Math.random()*e.length)];g(t),k(performance.now()),P(!1),console.log("Test started for button: ".concat(t," (").concat(o(t),")")),M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{u&&null!==h&&(console.log("Test timed out"),z())},3e3)};(0,a.useEffect)(()=>{var e;if(u&&null!==h&&null!==N&&t.connected&&!C&&(null===(e=t.buttons[h])||void 0===e?void 0:e.pressed)){let e=performance.now()-N;console.log("Button ".concat(h," pressed. Latency: ").concat(e,"ms")),T(e),b(t=>[...t,e]),P(!0),M.current&&(clearTimeout(M.current),M.current=null);let s=setInterval(()=>{t.connected&&!t.buttons[h].pressed&&(clearInterval(s),setTimeout(z,1e3))},100)}},[t,u,h,N,C,o]);let z=()=>{g(null),P(!1),p.length>=4?m(!1):setTimeout(I,1e3)},L=p.length>0?p.reduce((e,t)=>e+t,0)/p.length:null;return(0,a.useEffect)(()=>()=>{M.current&&clearTimeout(M.current)},[]),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center ".concat("rtl"===l?"flex-row-reverse":""),children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:s.latencyTest.title}),!u&&(0,i.jsx)(S,{onClick:()=>{if(m(!0),b([]),y(3),g(null),k(null),T(null),P(!1),t.connected&&(A.current=t.buttons.map(e=>e.pressed),t.buttons.some(e=>e.pressed))){alert("en"===n?"Please release all buttons before starting the test.":"يرجى تحرير جميع الأزرار قبل بدء الاختبار."),m(!1);return}let e=setInterval(()=>{y(t=>t<=1?(clearInterval(e),I(),0):t-1)},1e3)},disabled:!t.connected,children:s.latencyTest.startTest})]}),u&&j>0&&(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-6 flex flex-col items-center justify-center",children:[(0,i.jsx)("div",{className:"text-4xl font-bold",children:j}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground mt-2",children:s.latencyTest.getReady})]})}),u&&0===j&&(0,i.jsx)(c,{children:(0,i.jsx)(x,{className:"p-6 flex flex-col items-center justify-center",children:null!==h?(()=>{if(null===h)return null;let e=o(h);try{return(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center mb-4",children:[(0,i.jsx)("div",{className:"text-6xl font-bold mr-2",children:e}),(0,i.jsx)("div",{className:"relative w-16 h-16",children:(0,i.jsx)(et.default,{src:"/images/buttons/".concat(r,"/").concat(e.toLowerCase(),".png"),alt:e,width:64,height:64,style:{objectFit:"contain"},onError:e=>{e.target.style.display="none"}})})]}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:s.latencyTest.pressButton})]})}catch(t){return(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-6xl font-bold mb-4",children:e}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:s.latencyTest.pressButton})]})}})():(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-xl font-medium mb-2",children:s.latencyTest.nextButton}),(0,i.jsx)(ee,{value:100,className:"w-64"})]})})}),p.length>0&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h4",{className:"text-sm font-medium",children:s.latencyTest.results}),(0,i.jsxs)("div",{className:"grid grid-cols-5 gap-2 ".concat("rtl"===l?"flex flex-row-reverse":""),children:[p.map((e,t)=>(0,i.jsx)(c,{className:w===e?"border-primary":"",children:(0,i.jsxs)(x,{className:"p-3 text-center",children:[(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.latencyTest.test," ",t+1]}),(0,i.jsxs)("div",{className:"text-lg font-medium",children:[Math.round(e),"ms"]})]})},t)),null!==L&&(0,i.jsx)(c,{className:"bg-primary/10",children:(0,i.jsxs)(x,{className:"p-3 text-center",children:[(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:s.latencyTest.average}),(0,i.jsxs)("div",{className:"text-lg font-medium",children:[Math.round(L),"ms"]})]})})]})]}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:s.latencyTest.description})]})}var ei=s(4073);let ea=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsxs)(ei.bL,{ref:t,className:o("relative flex w-full touch-none select-none items-center",s),...a,children:[(0,i.jsx)(ei.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,i.jsx)(ei.Q6,{className:"absolute h-full bg-primary"})}),(0,i.jsx)(ei.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});ea.displayName=ei.bL.displayName;var el=s(704);let en=el.bL,er=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(el.B8,{ref:t,className:o("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});er.displayName=el.B8.displayName;let eo=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(el.l9,{ref:t,className:o("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});eo.displayName=el.l9.displayName;let ec=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(el.UC,{ref:t,className:o("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});ec.displayName=el.UC.displayName;var ed=s(4884);let eu=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(ed.bL,{className:o("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:(0,i.jsx)(ed.zi,{className:o("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});eu.displayName=ed.bL.displayName;var em=s(968);let ex=(0,y.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ef=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(em.b,{ref:t,className:o(ex(),s),...a})});function eh(e){let{gamepadState:t,calibrationData:s,setCalibrationData:l}=e,[n,r]=(0,a.useState)("left"),o=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=o.current;if(!e)return;let i=e.getContext("2d");if(!i)return;let a=e.width,l=e.height,r=a/2,c=l/2,d=Math.min(a,l)/3;i.clearRect(0,0,a,l),i.beginPath(),i.arc(r,c,d,0,2*Math.PI),i.strokeStyle="#888",i.lineWidth=2,i.stroke();let u="left"===n?s.deadZones.leftStick:s.deadZones.rightStick;if(i.beginPath(),i.arc(r,c,d*u,0,2*Math.PI),i.fillStyle="rgba(200, 200, 200, 0.2)",i.fill(),i.beginPath(),i.moveTo(r-d,c),i.lineTo(r+d,c),i.moveTo(r,c-d),i.lineTo(r,c+d),i.strokeStyle="#888",i.lineWidth=1,i.stroke(),t.connected){let e,a;"left"===n?(e=t.axes[0],a=t.axes[1]):(e=t.axes[2],a=t.axes[3]),"left"===n?(s.invert.leftStickX&&(e=-e),s.invert.leftStickY&&(a=-a)):(s.invert.rightStickX&&(e=-e),s.invert.rightStickY&&(a=-a));let l="left"===n?s.sensitivity.leftStick:s.sensitivity.rightStick;e*=l,a*=l;let o=r+(e=Math.max(-1,Math.min(1,e)))*d,u=c+(a=Math.max(-1,Math.min(1,a)))*d;i.beginPath(),i.arc(o,u,10,0,2*Math.PI),i.fillStyle="#3b82f6",i.fill(),i.strokeStyle="#1d4ed8",i.lineWidth=2,i.stroke()}},[t,s,n]);let d=e=>{l({...s,invert:{...s.invert,["".concat(n,"Stick").concat(e)]:!s.invert["".concat(n,"Stick").concat(e)]}})};return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"flex justify-between items-center",children:(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Analog Stick Calibration"})}),(0,i.jsx)(en,{value:n,onValueChange:r,className:"w-full",children:(0,i.jsxs)(er,{className:"grid grid-cols-2 mb-4",children:[(0,i.jsx)(eo,{value:"left",children:"Left Stick"}),(0,i.jsx)(eo,{value:"right",children:"Right Stick"})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsx)(c,{children:(0,i.jsx)(x,{className:"p-4 flex justify-center",children:(0,i.jsx)("canvas",{ref:o,width:200,height:200,className:"border border-border rounded-md bg-card"})})}),(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-4 space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(ef,{children:"Dead Zone"}),(0,i.jsx)("span",{className:"text-sm text-muted-foreground",children:("left"===n?s.deadZones.leftStick:s.deadZones.rightStick).toFixed(2)})]}),(0,i.jsx)(ea,{value:["left"===n?s.deadZones.leftStick:s.deadZones.rightStick],min:0,max:.5,step:.01,onValueChange:e=>{l({...s,deadZones:{...s.deadZones,["left"===n?"leftStick":"rightStick"]:e[0]}})}})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(ef,{children:"Sensitivity"}),(0,i.jsx)("span",{className:"text-sm text-muted-foreground",children:("left"===n?s.sensitivity.leftStick:s.sensitivity.rightStick).toFixed(2)})]}),(0,i.jsx)(ea,{value:["left"===n?s.sensitivity.leftStick:s.sensitivity.rightStick],min:.5,max:2,step:.05,onValueChange:e=>{l({...s,sensitivity:{...s.sensitivity,["left"===n?"leftStick":"rightStick"]:e[0]}})}})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(ef,{children:"Invert Axes"}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(eu,{checked:"left"===n?s.invert.leftStickX:s.invert.rightStickX,onCheckedChange:()=>d("X")}),(0,i.jsx)(ef,{children:"Invert X-Axis"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(eu,{checked:"left"===n?s.invert.leftStickY:s.invert.rightStickY,onCheckedChange:()=>d("Y")}),(0,i.jsx)(ef,{children:"Invert Y-Axis"})]})]})]})]})})]}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"Move the analog stick to see its position. Adjust the dead zone to eliminate drift when the stick is at rest. Increase sensitivity for more responsive control or decrease it for more precision."})]})}function eg(e){var t,s;let{gamepadState:l,calibrationData:n}=e,[r,o]=(0,a.useState)("left"),[d,u]=(0,a.useState)(.5),[m,f]=(0,a.useState)([]),h="left"===r?(null===(t=l.buttons[6])||void 0===t?void 0:t.value)||0:(null===(s=l.buttons[7])||void 0===s?void 0:s.value)||0;(0,a.useEffect)(()=>{l.connected&&f(e=>{let t=[...e,h];return t.length>30?t.slice(t.length-30):t})},[l,h]);let g=(()=>{if(m.length<5)return null;let e=m.slice(-5);return Math.round(Math.max(0,100-200*Math.abs(e.reduce((e,t)=>e+t,0)/e.length-d)))})();return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"flex justify-between items-center",children:(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Trigger Precision Test"})}),(0,i.jsx)(en,{value:r,onValueChange:o,className:"w-full",children:(0,i.jsxs)(er,{className:"grid grid-cols-2 mb-4",children:[(0,i.jsx)(eo,{value:"left",children:"Left Trigger (LT)"}),(0,i.jsx)(eo,{value:"right",children:"Right Trigger (RT)"})]})}),(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-4 space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-sm",children:"Target Value"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(100*d),"%"]})]}),(0,i.jsx)(ea,{value:[d],min:.1,max:.9,step:.05,onValueChange:e=>u(e[0])})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-sm",children:"Current Value"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(100*h),"%"]})]}),(0,i.jsx)(ee,{value:100*h,className:"h-8"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-sm",children:"Target"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(100*d),"%"]})]}),(0,i.jsxs)("div",{className:"relative h-8 bg-muted rounded-md overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-0 bottom-0 bg-primary/30 border-l-2 border-r-2 border-primary",style:{left:"".concat(Math.max(0,(d-.05)*100),"%"),right:"".concat(Math.max(0,100-(d+.05)*100),"%")}}),(0,i.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary",style:{left:"".concat(100*d,"%")}})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-sm",children:"Precision Score"}),(0,i.jsx)("span",{className:"text-sm text-muted-foreground",children:null!==g?"".concat(g,"%"):"Pull and hold trigger"})]}),(0,i.jsxs)("div",{className:"h-8 rounded-md overflow-hidden bg-muted flex items-center justify-center",children:[null!==g&&(0,i.jsx)("div",{className:"h-full ".concat(null===g?"bg-muted":g>=90?"bg-green-500":g>=70?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(g,"%")}}),null!==g&&(0,i.jsxs)("span",{className:"absolute text-sm font-medium",children:[g,"%"]})]})]})]})}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"This test measures how precisely you can hold a trigger at a specific position. Try to hold the trigger at exactly the target value for the highest precision score."})]})}function ep(e){let{gamepadState:t}=e,[s,l]=(0,a.useState)(.5),[n,r]=(0,a.useState)(.5),[o,d]=(0,a.useState)(500),[u,m]=(0,a.useState)("constant"),f=t.connected&&t.vibrationActuator;return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"flex justify-between items-center",children:(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Vibration Test"})}),!f&&(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-6 text-center",children:[(0,i.jsx)("div",{className:"text-lg font-medium text-red-500",children:"Vibration not supported"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Your controller does not support vibration or is not connected."})]})}),f&&(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-4 space-y-6",children:[(0,i.jsx)(en,{value:u,onValueChange:m,className:"w-full",children:(0,i.jsxs)(er,{className:"grid grid-cols-3 mb-4",children:[(0,i.jsx)(eo,{value:"constant",children:"Constant"}),(0,i.jsx)(eo,{value:"pulse",children:"Pulse"}),(0,i.jsx)(eo,{value:"ramp",children:"Ramp Up"})]})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(ef,{children:"Weak Rumble"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(100*s),"%"]})]}),(0,i.jsx)(ea,{value:[s],min:0,max:1,step:.05,onValueChange:e=>l(e[0])})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(ef,{children:"Strong Rumble"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(100*n),"%"]})]}),(0,i.jsx)(ea,{value:[n],min:0,max:1,step:.05,onValueChange:e=>r(e[0])})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(ef,{children:"Duration"}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[o,"ms"]})]}),(0,i.jsx)(ea,{value:[o],min:100,max:2e3,step:100,onValueChange:e=>d(e[0])})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)(S,{onClick:()=>{if(f){if("constant"===u)t.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:o,weakMagnitude:s,strongMagnitude:n});else if("pulse"===u){let e=o/3;for(let i=0;i<3;i++)setTimeout(()=>{t.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:.5*e,weakMagnitude:s,strongMagnitude:n})},i*e)}else if("ramp"===u){let e=o/10;for(let i=0;i<10;i++){let a=i/9;setTimeout(()=>{t.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:e,weakMagnitude:s*a,strongMagnitude:n*a})},i*e)}}}},className:"flex-1",children:"Test Vibration"}),(0,i.jsx)(S,{variant:"outline",onClick:()=>{f&&t.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:0,weakMagnitude:0,strongMagnitude:0})},children:"Stop"})]})]})}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"Test your controller's vibration capabilities. Adjust the intensity and duration to find the right feedback for your game. The weak rumble uses high-frequency motors, while the strong rumble uses low-frequency motors."})]})}function ev(e){let{gamepadState:t,calibrationData:s,setCalibrationData:l}=e,[n,r]=(0,a.useState)(0),[o,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(0),[f,h]=(0,a.useState)([]),[g,p]=(0,a.useState)([]),[v,b]=(0,a.useState)([]),j=(0,a.useRef)(null),y=(0,a.useRef)(null),N=[{title:"Introduction",description:"This wizard will help you calibrate your controller for optimal performance."},{title:"Left Stick",description:"Move the left stick in a full circle, reaching the edges of its range."},{title:"Right Stick",description:"Move the right stick in a full circle, reaching the edges of its range."},{title:"Triggers",description:"Press and release both triggers several times, fully pressing them each time."},{title:"Complete",description:"Calibration complete! Your controller is now optimized for better performance."}];(0,a.useEffect)(()=>{if(o){let e=setInterval(()=>{m(t=>{let s=t+2;return s>=100?(clearInterval(e),100):s})},100);return()=>clearInterval(e)}},[o]),(0,a.useEffect)(()=>{if(!o||!t.connected)return;let e=setInterval(()=>{1===n?h(e=>[...e,[t.axes[0],t.axes[1]]]):2===n?p(e=>[...e,[t.axes[2],t.axes[3]]]):3===n&&b(e=>[...e,[t.buttons[6].value,t.buttons[7].value]])},100);return()=>clearInterval(e)},[o,n,t]);let k=()=>{if(d(!1),m(100),y.current&&(clearTimeout(y.current),y.current=null),1===n&&f.length>0){let e=Math.max(.05,Math.min(.3,.8*Math.min(...f.map(e=>{let[t,s]=e;return Math.sqrt(t*t+s*s)}).filter(e=>e>0))));l({...s,deadZones:{...s.deadZones,leftStick:e}})}else if(2===n&&g.length>0){let e=Math.max(.05,Math.min(.3,.8*Math.min(...g.map(e=>{let[t,s]=e;return Math.sqrt(t*t+s*s)}).filter(e=>e>0))));l({...s,deadZones:{...s.deadZones,rightStick:e}})}else if(3===n&&v.length>0){let e=Math.max(.05,Math.min(.2,.8*Math.min(...v.flat().filter(e=>e>0))));l({...s,deadZones:{...s.deadZones,triggers:e}})}};return(0,a.useEffect)(()=>{let e=j.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let i=e.width,a=e.height,l=i/2,r=a/2,o=Math.min(i,a)/3;if(s.clearRect(0,0,i,a),1===n||2===n){s.beginPath(),s.arc(l,r,o,0,2*Math.PI),s.strokeStyle="#888",s.lineWidth=2,s.stroke(),s.beginPath(),s.moveTo(l-o,r),s.lineTo(l+o,r),s.moveTo(l,r-o),s.lineTo(l,r+o),s.strokeStyle="#888",s.lineWidth=1,s.stroke();let e=1===n?f:g;if(e.length>0&&(s.beginPath(),e.forEach((e,t)=>{let[i,a]=e,n=l+i*o,c=r+a*o;0===t?s.moveTo(n,c):s.lineTo(n,c)}),s.strokeStyle="#3b82f6",s.lineWidth=2,s.stroke()),t.connected){let e,i;1===n?(e=t.axes[0],i=t.axes[1]):(e=t.axes[2],i=t.axes[3]);let a=l+e*o,c=r+i*o;s.beginPath(),s.arc(a,c,8,0,2*Math.PI),s.fillStyle="#3b82f6",s.fill()}}else if(3===n){let e=i/3,l=.6*a,n=i/4-e/2,r=3*i/4-e/2,o=a/2-l/2;if(s.fillStyle="#f0f0f0",s.fillRect(n,o,e,l),s.fillStyle="#f0f0f0",s.fillRect(r,o,e,l),t.connected){let i=t.buttons[6].value,a=t.buttons[7].value;s.fillStyle="#3b82f6",s.fillRect(n,o+l*(1-i),e,l*i),s.fillStyle="#3b82f6",s.fillRect(r,o+l*(1-a),e,l*a),s.fillStyle="#000",s.font="14px sans-serif",s.textAlign="center",s.fillText("LT",n+e/2,o+l+20),s.fillText("RT",r+e/2,o+l+20),s.fillText("".concat(Math.round(100*i),"%"),n+e/2,o-10),s.fillText("".concat(Math.round(100*a),"%"),r+e/2,o-10)}}},[n,t,f,g,v]),(0,a.useEffect)(()=>()=>{y.current&&clearTimeout(y.current)},[]),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Calibration Wizard"}),(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Step ",n+1," of ",N.length]})]}),(0,i.jsx)(ee,{value:n/(N.length-1)*100,className:"h-2"}),(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-6",children:[(0,i.jsx)("h4",{className:"text-xl font-medium mb-2",children:N[n].title}),(0,i.jsx)("p",{className:"text-muted-foreground mb-4",children:N[n].description}),n>0&&n<4&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("canvas",{ref:j,width:300,height:200,className:"border border-border rounded-md bg-card mx-auto"}),o&&(0,i.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsx)("span",{children:"Collecting data..."}),(0,i.jsxs)("span",{children:[u,"%"]})]}),(0,i.jsx)(ee,{value:u,className:"h-2"})]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(S,{variant:"outline",onClick:()=>{r(e=>Math.max(e-1,0))},disabled:0===n,children:"Previous"}),n>0&&n<4&&!o&&(0,i.jsx)(S,{onClick:()=>{d(!0),m(0),1===n&&h([]),2===n&&p([]),3===n&&b([]),y.current=setTimeout(()=>{k()},5e3)},disabled:!t.connected,children:0===u?"Start Collecting":"Collect Again"}),(0,i.jsx)(S,{onClick:()=>{r(e=>Math.min(e+1,N.length-1))},disabled:n>0&&n<4&&u<100||n===N.length-1,children:n===N.length-1?"Finish":"Next"})]})]})}),!t.connected&&(0,i.jsx)("div",{className:"text-center text-red-500 text-sm",children:"Please connect a controller to use the calibration wizard."})]})}ef.displayName=em.b.displayName;let eb=(0,y.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ej=a.forwardRef((e,t)=>{let{className:s,variant:a,...l}=e;return(0,i.jsx)("div",{ref:t,role:"alert",className:o(eb({variant:a}),s),...l})});ej.displayName="Alert",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("h5",{ref:t,className:o("mb-1 font-medium leading-none tracking-tight",s),...a})}).displayName="AlertTitle";let ey=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("text-sm [&_p]:leading-relaxed",s),...a})});ey.displayName="AlertDescription";var eN=s(1154),eS=s(690),ek=s(5196),ew=s(1243);function eT(e){let{gamepadState:t,calibrationData:s,setCalibrationData:l}=e,{t:n,direction:r,currentLanguage:o}=(0,f.o)(),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(0),[g,p]=(0,a.useState)(0),[v,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),[N,k]=(0,a.useState)(null),w=(0,a.useRef)({leftStick:[],rightStick:[],leftTrigger:[],rightTrigger:[]}),T=[{title:"en"===o?"Preparing":"جاري التحضير",description:"en"===o?"Preparing for calibration...":"جاري التحضير للمعايرة...",duration:2e3},{title:"en"===o?"Center Position":"وضع المركز",description:"en"===o?"Keep joysticks in neutral position and don't press any buttons":"إبقاء عصي التحكم في الوضع المحايد وعدم الضغط على أي أزرار",duration:3e3},{title:"en"===o?"Left Stick":"عصا التحكم اليسرى",description:"en"===o?"Move the left stick to all extreme positions (up, down, left, right, diagonals)":"حرك عصا التحكم اليسرى إلى جميع المواضع القصوى (أعلى، أسفل، يسار، يمين، قطري)",duration:5e3},{title:"en"===o?"Right Stick":"عصا التحكم اليمنى",description:"en"===o?"Move the right stick to all extreme positions (up, down, left, right, diagonals)":"حرك عصا التحكم اليمنى إلى جميع المواضع القصوى (أعلى، أسفل، يسار، يمين، قطري)",duration:5e3},{title:"en"===o?"Triggers":"أزرار الضغط",description:"en"===o?"Press and release both triggers several times":"اضغط وحرر كلا زري الضغط عدة مرات",duration:5e3},{title:"en"===o?"Processing":"جاري المعالجة",description:"en"===o?"Calculating optimal calibration values...":"حساب قيم المعايرة المثلى...",duration:2e3}],C=e=>{if(e>=T.length){M();return}h(e);let s=T[e].duration,i=Date.now(),a=setInterval(()=>{let l=Date.now()-i;p(Math.min(100,l/s*100)),e>=1&&t.connected&&P(e),l>=s&&(clearInterval(a),C(e+1))},100)},P=e=>{if(t.connected){if(1===e)w.current.leftStick.push([t.axes[0],t.axes[1]]),w.current.rightStick.push([t.axes[2],t.axes[3]]);else if(2===e)w.current.leftStick.push([t.axes[0],t.axes[1]]);else if(3===e)w.current.rightStick.push([t.axes[2],t.axes[3]]);else if(4===e){var s,i;w.current.leftTrigger.push((null===(s=t.buttons[6])||void 0===s?void 0:s.value)||0),w.current.rightTrigger.push((null===(i=t.buttons[7])||void 0===i?void 0:i.value)||0)}}},M=()=>{try{if(w.current.leftStick.length<10||w.current.rightStick.length<10)throw Error("en"===o?"Not enough movement data collected. Please try again.":"لم يتم جمع بيانات كافية للحركة. يرجى المحاولة مرة أخرى.");let e=w.current.leftStick.slice(0,10),t=w.current.rightStick.slice(0,10),i=e.reduce((e,t)=>e+t[0],0)/e.length,a=e.reduce((e,t)=>e+t[1],0)/e.length,n=t.reduce((e,t)=>e+t[0],0)/t.length,r=t.reduce((e,t)=>e+t[1],0)/t.length,c=e.map(e=>Math.max(Math.abs(e[0]-i),Math.abs(e[1]-a))),d=t.map(e=>Math.max(Math.abs(e[0]-n),Math.abs(e[1]-r))),u=Math.min(.25,Math.max(.05,2.5*Math.max(...c))),m=Math.min(.25,Math.max(.05,2.5*Math.max(...d))),x=w.current.leftTrigger.length>0||w.current.rightTrigger.length>0?.05:s.deadZones.triggers,f=w.current.leftStick.slice(10).map(e=>Math.max(Math.abs(e[0]),Math.abs(e[1]))),h=w.current.rightStick.slice(10).map(e=>Math.max(Math.abs(e[0]),Math.abs(e[1]))),g=f.length>0?Math.max(...f):.8,p=h.length>0?Math.max(...h):.8,v=g>.2?Math.min(1.5,Math.max(.8,1/g)):1,b=p>.2?Math.min(1.5,Math.max(.8,1/p)):1,j={deadZones:{leftStick:u,rightStick:m,triggers:x},sensitivity:{leftStick:v,rightStick:b,triggers:s.sensitivity.triggers},invert:{...s.invert}};l(j),y(!0),k("en"===o?"Calibration completed successfully!":"تمت المعايرة بنجاح!")}catch(e){console.error("Calibration error:",e),y(!1),k(e instanceof Error?e.message:"en"===o?"An error occurred during calibration.":"حدث خطأ أثناء المعايرة.")}finally{u(!1),b(!0)}};return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center ".concat("rtl"===r?"flex-row-reverse":""),children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"en"===o?"Auto Calibration":"المعايرة التلقائية"}),(0,i.jsxs)(S,{onClick:()=>{t.connected&&(w.current={leftStick:[],rightStick:[],leftTrigger:[],rightTrigger:[]},u(!0),h(0),p(0),b(!1),y(!1),k(null),C(0))},disabled:!t.connected||d,variant:"default",className:"gap-1",children:[d?(0,i.jsx)(eN.A,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(eS.A,{className:"h-4 w-4"}),"en"===o?"Start Auto Calibration":"بدء المعايرة التلقائية"]})]}),d&&(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"pt-6 space-y-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h4",{className:"text-lg font-medium",children:T[m].title}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:T[m].description})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,i.jsxs)("span",{children:["en"===o?"Step":"الخطوة"," ",m+1,"/",T.length]}),(0,i.jsxs)("span",{children:[Math.round(g),"%"]})]}),(0,i.jsx)(ee,{value:g,className:"h-2"})]})]})}),v&&!d&&N&&(0,i.jsx)(ej,{variant:j?"default":"destructive",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[j?(0,i.jsx)(ek.A,{className:"h-4 w-4"}):(0,i.jsx)(ew.A,{className:"h-4 w-4"}),(0,i.jsx)(ey,{children:N})]})}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"en"===o?"Auto calibration will optimize deadzone and sensitivity settings for your controller.":"ستعمل المعايرة التلقائية على تحسين إعدادات المنطقة الميتة والحساسية لوحدة التحكم الخاصة بك."})]})}let eC=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,i.jsx)("input",{type:a,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});eC.displayName="Input";var eP=s(1992),eM=s(3052),eA=s(9428);let eR=eP.bL,eI=eP.l9;eP.YJ,eP.ZL,eP.Pb,eP.z6,a.forwardRef((e,t)=>{let{className:s,inset:a,children:l,...n}=e;return(0,i.jsxs)(eP.ZP,{ref:t,className:o("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...n,children:[l,(0,i.jsx)(eM.A,{className:"ml-auto"})]})}).displayName=eP.ZP.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(eP.G5,{ref:t,className:o("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}).displayName=eP.G5.displayName;let ez=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...l}=e;return(0,i.jsx)(eP.ZL,{children:(0,i.jsx)(eP.UC,{ref:t,sideOffset:a,className:o("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});ez.displayName=eP.UC.displayName;let eL=a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,i.jsx)(eP.q7,{ref:t,className:o("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...l})});eL.displayName=eP.q7.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,checked:l,...n}=e;return(0,i.jsxs)(eP.H_,{ref:t,className:o("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...n,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(eP.VF,{children:(0,i.jsx)(ek.A,{className:"h-4 w-4"})})}),a]})}).displayName=eP.H_.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,i.jsxs)(eP.hN,{ref:t,className:o("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(eP.VF,{children:(0,i.jsx)(eA.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=eP.hN.displayName;let eV=a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,i.jsx)(eP.JU,{ref:t,className:o("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...l})});eV.displayName=eP.JU.displayName;let eE=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,i.jsx)(eP.wv,{ref:t,className:o("-mx-1 my-1 h-px bg-muted",s),...a})});eE.displayName=eP.wv.displayName;var eD=s(2536),eW=s(4229),eB=s(4616),eZ=s(3737),eG=s(9143),eY=s(4020),eF=s(1788),eX=s(2525);function eU(e){let{gamepadConnected:t,profiles:s,activeProfileId:l,saveProfile:n,loadProfile:r,updateProfile:o,deleteProfile:h}=e,{t:g,direction:p,currentLanguage:b}=(0,f.o)(),{controllerType:j,controllerTypeLabel:y,controllerAuthenticity:N,authenticityLabel:k}=v(),[w,T]=(0,a.useState)(""),C=e=>{try{return(0,eD.A)(new Date(e),"MMM d, yyyy h:mm a")}catch(e){return"Unknown"}};return(0,i.jsxs)(c,{className:"w-full",children:[(0,i.jsxs)(d,{children:[(0,i.jsxs)(u,{className:"flex items-center ".concat("rtl"===p?"flex-row-reverse":""," justify-between"),children:[(0,i.jsx)("span",{children:"en"===b?"Gamepad Profiles":"ملفات وحدة التحكم"}),(0,i.jsxs)(S,{variant:"outline",size:"sm",onClick:()=>o(l),disabled:!t||!l,children:[(0,i.jsx)(eW.A,{className:"h-4 w-4 mr-2"}),(0,i.jsx)("span",{children:"en"===b?"Save Changes":"حفظ التغييرات"})]})]}),(0,i.jsx)(m,{children:"en"===b?"Save and manage calibration profiles for your gamepads":"حفظ وإدارة ملفات معايرة وحدات التحكم الخاصة بك"})]}),(0,i.jsx)(x,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)(c,{className:"border border-dashed",children:(0,i.jsx)(x,{className:"pt-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(ef,{className:"text-muted-foreground text-xs",children:"en"===b?"Controller Type":"نوع وحدة التحكم"}),(0,i.jsx)("div",{className:"font-medium",children:y})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(ef,{className:"text-muted-foreground text-xs",children:"en"===b?"Authenticity":"الأصالة"}),(0,i.jsxs)("div",{className:"font-medium",children:[k,"original"===N&&(0,i.jsx)(ek.A,{className:"inline-block h-4 w-4 ml-1 text-green-500"})]})]})]})})}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between ".concat("rtl"===p?"flex-row-reverse":""),children:[(0,i.jsxs)("h3",{className:"font-medium text-sm",children:["en"===b?"Saved Profiles":"الملفات الشخصية المحفوظة","(",s.length,")"]}),(0,i.jsxs)(Z,{children:[(0,i.jsx)(G,{asChild:!0,children:(0,i.jsxs)(S,{variant:"ghost",size:"sm",disabled:!t,children:[(0,i.jsx)(eB.A,{className:"h-4 w-4 mr-1"}),(0,i.jsx)("span",{children:"en"===b?"New":"جديد"})]})}),(0,i.jsxs)(U,{children:[(0,i.jsx)(O,{children:(0,i.jsx)(q,{children:"en"===b?"Create New Profile":"إنشاء ملف تعريف جديد"})}),(0,i.jsx)("div",{className:"grid gap-4 py-4",children:(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(ef,{htmlFor:"profile-name",children:"en"===b?"Profile Name":"اسم الملف الشخصي"}),(0,i.jsx)(eC,{id:"profile-name",value:w,onChange:e=>T(e.target.value),placeholder:"en"===b?"Enter profile name":"أدخل اسم الملف الشخصي"})]})}),(0,i.jsx)(_,{children:(0,i.jsx)(F,{asChild:!0,children:(0,i.jsx)(S,{onClick:()=>{if(!w.trim()){alert("en"===b?"Please enter a profile name":"الرجاء إدخال اسم للملف الشخصي");return}n(w.trim()),T("")},children:"en"===b?"Create Profile":"إنشاء الملف الشخصي"})})})]})]})]}),0===s.length?(0,i.jsx)("div",{className:"text-center p-6 text-muted-foreground border rounded-md",children:"en"===b?"No profiles saved yet. Create a profile to save your calibration settings.":"لم يتم حفظ أي ملفات شخصية بعد. قم بإنشاء ملف شخصي لحفظ إعدادات المعايرة الخاصة بك."}):(0,i.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,i.jsx)(c,{className:"".concat(l===e.id?"border-primary":""),children:(0,i.jsx)(x,{className:"p-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between ".concat("rtl"===p?"flex-row-reverse":""),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center",children:[(0,i.jsx)(eZ.A,{className:"h-3 w-3 mr-1"}),(0,i.jsxs)("span",{children:["en"===b?"Last used: ":"آخر استخدام: ",C(e.lastUsed)]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[l!==e.id&&(0,i.jsxs)(S,{variant:"ghost",size:"sm",onClick:()=>r(e.id),disabled:!t,children:[(0,i.jsx)(eG.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"en"===b?"Load":"تحميل"})]}),(0,i.jsxs)(eR,{children:[(0,i.jsx)(eI,{asChild:!0,children:(0,i.jsxs)(S,{variant:"ghost",size:"sm",children:[(0,i.jsx)(eY.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"en"===b?"Options":"خيارات"})]})}),(0,i.jsxs)(ez,{align:"end",children:[(0,i.jsx)(eV,{children:"en"===b?"Profile Options":"خيارات الملف الشخصي"}),(0,i.jsx)(eE,{}),(0,i.jsxs)(eL,{onClick:()=>r(e.id),children:[(0,i.jsx)(eF.A,{className:"h-4 w-4 mr-2"}),"en"===b?"Load Profile":"تحميل الملف الشخصي"]}),(0,i.jsxs)(eL,{onClick:()=>h(e.id),children:[(0,i.jsx)(eX.A,{className:"h-4 w-4 mr-2"}),"en"===b?"Delete Profile":"حذف الملف الشخصي"]})]})]})]})]})})},e.id))})]})]})})]})}function eO(e){let{gamepadState:t}=e,{t:s,direction:l,currentLanguage:n}=(0,f.o)(),{controllerType:r,controllerTypeLabel:o,controllerAuthenticity:h,authenticityLabel:g}=v(),[p,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),[N,k]=(0,a.useState)(0),[w,C]=(0,a.useState)([]),[P,M]=(0,a.useState)(0),A=()=>{if(!t.connected)return;b(!0),y(!1),k(0),C([]);let e=setInterval(()=>{k(t=>t>=100?(clearInterval(e),R(),100):t+2)},100)},R=()=>{let e=I();C(e),M(Math.round(e.reduce((e,t)=>e+t.score,0)/(100*e.length)*100)),y(!0),b(!1)},I=()=>{let e=[];return e.push(E()),e.push(D()),e.push(W()),e.push(B()),e.push(Z()),e},E=()=>{let e=t.id.toLowerCase(),s=("xbox"===r?["xbox one","microsoft","xbox wireless","xbox elite"]:"playstation"===r?["wireless controller","sony interactive entertainment","dualsock","dualsense"]:[]).filter(t=>e.includes(t)).length,i=["clone","compatible","generic","third party","third-party","fake"].some(t=>e.includes(t)),a=!1,l=0,o=!1;return"generic"===r?(a=!1,l=50,o=!0):s>=2?(a=!0,l=100):1!==s||i?1===s&&i?(a=!1,l=40,o=!0):i?(a=!1,l=20):(a=!1,l=50,o=!0):(a=!0,l=80,o=!0),{name:"en"===n?"Manufacturer Verification":"التحقق من الشركة المصنعة",description:"en"===n?"Controller identified as: ".concat(t.id):"وحدة التحكم المحددة: ".concat(t.id),passed:a,warning:o,score:l}},D=()=>{let e=t.buttons.length,s={xbox:17,playstation:17,generic:12}[r],i=!1,a=0,l=!1;return e===s?(i=!0,a=100):(e>=s-2&&e<=s+2?(i=!0,a=80):(i=!1,a=40),l=!0),{name:"en"===n?"Button Count Check":"فحص عدد الأزرار",description:"en"===n?"Found ".concat(e," buttons (Expected ").concat(s,")"):"تم العثور على ".concat(e," زر (المتوقع ").concat(s,")"),passed:i,warning:l,score:a}},W=()=>{let e=t.buttons.slice(0,16),s=e.every(e=>0===e.value||1===e.value||e.value>=0&&e.value<=1),i=e.every(e=>e.pressed&&e.value>0||!e.pressed&&0===e.value);return{name:"en"===n?"Button Response Check":"فحص استجابة الأزرار",description:"en"===n?"Checking if buttons report values consistently":"التحقق مما إذا كانت الأزرار تبلغ عن القيم بشكل متسق",passed:s&&i,score:s?i?100:70:40}},B=()=>{let e=t.axes.every(e=>e>=-1&&e<=1),s=t.axes.every(e=>.01>Math.abs(e)||Math.abs(e)>.05);return{name:"en"===n?"Joystick Precision Check":"فحص دقة عصا التحكم",description:"en"===n?"Checking analog stick sensitivity and precision":"التحقق من حساسية ودقة عصا التحكم التناظرية",passed:e,warning:!s,score:e?s?100:80:50}},Z=()=>{let e=null!=t.vibrationActuator;return{name:"en"===n?"Vibration Support":"دعم الاهتزاز",description:"en"===n?e?"Vibration actuators detected":"No vibration support detected":e?"تم اكتشاف محركات الاهتزاز":"لم يتم اكتشاف دعم الاهتزاز",passed:e,warning:!e&&("xbox"===r||"playstation"===r),score:e?100:50}};return(0,i.jsxs)(c,{className:"w-full",children:[(0,i.jsxs)(d,{children:[(0,i.jsxs)(u,{className:"flex items-center ".concat("rtl"===l?"flex-row-reverse":""," justify-between"),children:[(0,i.jsx)("span",{children:"en"===n?"Controller Authenticity Verification":"التحقق من أصالة وحدة التحكم"}),j&&(P>=85?(0,i.jsxs)(K,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-300 gap-1",children:[(0,i.jsx)(ek.A,{className:"h-3 w-3"}),"en"===n?"Original Controller":"وحدة تحكم أصلية"]}):P>=60?(0,i.jsxs)(K,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-300 gap-1",children:[(0,i.jsx)(T.A,{className:"h-3 w-3"}),"en"===n?"Possibly Original":"من المحتمل أن تكون أصلية"]}):(0,i.jsxs)(K,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-300 gap-1",children:[(0,i.jsx)(ew.A,{className:"h-3 w-3"}),"en"===n?"Possible Counterfeit":"من المحتمل أن تكون مقلدة"]}))]}),(0,i.jsx)(m,{children:"en"===n?"Verify if your controller is an original or a third-party device":"تحقق مما إذا كانت وحدة التحكم الخاصة بك أصلية أو جهاز من طرف ثالث"})]}),(0,i.jsx)(x,{children:t.connected?(0,i.jsxs)("div",{className:"space-y-6",children:[!j&&!p&&(0,i.jsx)(S,{onClick:A,className:"w-full",children:"en"===n?"Start Verification":"بدء التحقق"}),p&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsx)("span",{children:"en"===n?"Verification in progress...":"جاري التحقق..."}),(0,i.jsxs)("span",{children:[N,"%"]})]}),(0,i.jsx)(ee,{value:N,className:"h-2"})]}),j&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between border rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[P>=85?(0,i.jsx)(z.A,{className:"h-6 w-6 text-green-500"}):P>=60?(0,i.jsx)(V.A,{className:"h-6 w-6 text-yellow-500"}):(0,i.jsx)(L.A,{className:"h-6 w-6 text-red-500"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium",children:"en"===n?"Verification Score":"نتيجة التحقق"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:o})]})]}),(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[P,"%"]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h4",{className:"text-sm font-medium",children:"en"===n?"Test Results":"نتائج الاختبار"}),w.map((e,t)=>(0,i.jsxs)("div",{className:"border rounded-md p-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[e.passed?(0,i.jsx)(ek.A,{className:"h-4 w-4 ".concat(e.warning?"text-yellow-500":"text-green-500")}):(0,i.jsx)(ew.A,{className:"h-4 w-4 text-red-500"}),(0,i.jsx)("span",{className:"font-medium",children:e.name}),e.warning&&(0,i.jsx)(K,{variant:"outline",className:"text-xs bg-yellow-100 border-yellow-300 text-yellow-800",children:"en"===n?"Warning":"تحذير"})]}),(0,i.jsxs)("span",{className:"text-sm",children:[e.score,"/100"]})]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]},t))]}),(0,i.jsx)(S,{variant:"outline",onClick:A,className:"w-full",children:"en"===n?"Run Verification Again":"تشغيل التحقق مرة أخرى"})]})]}):(0,i.jsx)("div",{className:"text-center p-8 text-muted-foreground border rounded-md",children:"en"===n?"Please connect a gamepad to verify its authenticity":"يرجى توصيل وحدة تحكم للتحقق من أصالتها"})})]})}function e_(e){let{gamepadState:t,calibrationData:s,setCalibrationData:l,profiles:n,activeProfileId:r,saveProfile:o,loadProfile:d,updateProfile:u,deleteProfile:m}=e,[h,g]=(0,a.useState)("latency"),{t:p,direction:v,currentLanguage:b}=(0,f.o)();return(0,i.jsx)(c,{children:(0,i.jsx)(x,{className:"p-4",children:(0,i.jsxs)(en,{defaultValue:"testing",className:"mb-4",children:[(0,i.jsxs)(er,{className:"w-full",children:[(0,i.jsx)(eo,{value:"testing",className:"flex-1",children:"en"===b?"Testing Modules":"وحدات الاختبار"}),(0,i.jsx)(eo,{value:"profiles",className:"flex-1",children:"en"===b?"Profiles":"الملفات الشخصية"}),(0,i.jsx)(eo,{value:"authenticity",className:"flex-1",children:"en"===b?"Authenticity":"الأصالة"})]}),(0,i.jsxs)(ec,{value:"testing",className:"mt-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:p.testing.title}),(0,i.jsxs)("div",{className:"flex mb-4 overflow-x-auto pb-2 ".concat("rtl"===v?"flex-row-reverse":""),children:[(0,i.jsx)("button",{onClick:()=>g("latency"),className:"px-4 py-2 rounded-md mx-2 whitespace-nowrap ".concat("latency"===h?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:p.testing.latency}),(0,i.jsx)("button",{onClick:()=>g("analog"),className:"px-4 py-2 rounded-md mx-2 whitespace-nowrap ".concat("analog"===h?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:p.testing.analog}),(0,i.jsx)("button",{onClick:()=>g("trigger"),className:"px-4 py-2 rounded-md mx-2 whitespace-nowrap ".concat("trigger"===h?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:p.testing.triggers}),(0,i.jsx)("button",{onClick:()=>g("vibration"),className:"px-4 py-2 rounded-md mx-2 whitespace-nowrap ".concat("vibration"===h?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:p.testing.vibration}),(0,i.jsx)("button",{onClick:()=>g("calibration"),className:"px-4 py-2 rounded-md mx-2 whitespace-nowrap ".concat("calibration"===h?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:p.testing.wizard}),(0,i.jsx)("button",{onClick:()=>g("auto-calibration"),className:"px-4 py-2 rounded-md mx-2 whitespace-nowrap ".concat("auto-calibration"===h?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:"en"===b?"Auto Calibration":"المعايرة التلقائية"})]}),(0,i.jsx)("div",{className:"rounded-md p-4 bg-muted/50",children:t.connected?(0,i.jsxs)(i.Fragment,{children:["latency"===h&&(0,i.jsx)(es,{gamepadState:t}),"analog"===h&&(0,i.jsx)(eh,{gamepadState:t,calibrationData:s,setCalibrationData:l}),"trigger"===h&&(0,i.jsx)(eg,{gamepadState:t,calibrationData:s}),"vibration"===h&&(0,i.jsx)(ep,{gamepadState:t}),"calibration"===h&&(0,i.jsx)(ev,{gamepadState:t,calibrationData:s,setCalibrationData:l}),"auto-calibration"===h&&(0,i.jsx)(eT,{gamepadState:t,calibrationData:s,setCalibrationData:l})]}):(0,i.jsx)("div",{className:"text-center py-10",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:p.testing.connectGamepad})})})]}),(0,i.jsx)(ec,{value:"profiles",className:"mt-4",children:(0,i.jsx)(eU,{gamepadConnected:t.connected,profiles:n,activeProfileId:r,saveProfile:o,loadProfile:d,updateProfile:u,deleteProfile:m})}),(0,i.jsx)(ec,{value:"authenticity",className:"mt-4",children:(0,i.jsx)(eO,{gamepadState:t})})]})})})}var eq=s(7655);let eH=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,i.jsxs)(eq.bL,{ref:t,className:o("relative overflow-hidden",s),...l,children:[(0,i.jsx)(eq.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,i.jsx)(eJ,{}),(0,i.jsx)(eq.OK,{})]})});eH.displayName=eq.bL.displayName;let eJ=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,i.jsx)(eq.VM,{ref:t,orientation:a,className:o("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,i.jsx)(eq.lr,{className:"relative flex-1 rounded-full bg-border"})})});function eK(e){let{gamepadState:t}=e,{t:s,direction:l}=(0,f.o)(),{getButtonName:n}=v(),[r,o]=(0,a.useState)([]),d=(0,a.useRef)([]),u=(0,a.useRef)([]),m=(0,a.useRef)(0),h=["Left Stick X","Left Stick Y","Right Stick X","Right Stick Y"];(0,a.useEffect)(()=>{if(!t.connected)return;let e=[];t.buttons.forEach((t,s)=>{let i=d.current[s]||!1;t.pressed!==i&&e.push({id:"btn-".concat(m.current++),timestamp:Date.now(),type:"button",index:s,value:t.pressed,label:n(s)})}),d.current=t.buttons.map(e=>e.pressed),t.axes.forEach((t,s)=>{Math.abs(t-(u.current[s]||0))>.05&&e.push({id:"axis-".concat(m.current++),timestamp:Date.now(),type:"axis",index:s,value:t,label:h[s]||"Axis ".concat(s)})}),u.current=[...t.axes],e.length>0&&o(t=>[...e,...t].slice(0,50))},[t,n]);let g=e=>{let t=new Date(e);return"".concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"),":").concat(t.getSeconds().toString().padStart(2,"0"),".").concat(t.getMilliseconds().toString().padStart(3,"0"))};return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center ".concat("rtl"===l?"flex-row-reverse":""),children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:s.dataVisualization.inputLog}),(0,i.jsx)("button",{className:"text-xs text-muted-foreground hover:text-foreground",onClick:()=>o([]),children:s.dataVisualization.clear})]}),(0,i.jsx)(c,{children:(0,i.jsx)(x,{className:"p-0",children:(0,i.jsx)(eH,{className:"h-[300px] w-full",children:0===r.length?(0,i.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:s.dataVisualization.noInputEvents}):(0,i.jsx)("div",{className:"divide-y divide-border",children:r.map(e=>(0,i.jsxs)("div",{className:"p-2 text-sm flex items-center ".concat("rtl"===l?"flex-row-reverse":""),children:[(0,i.jsx)("div",{className:"w-32 text-xs text-muted-foreground",children:g(e.timestamp)}),(0,i.jsx)("div",{className:"w-24 font-medium",children:e.label}),(0,i.jsx)("div",{className:"flex-1",children:"button"===e.type?(0,i.jsx)("span",{className:e.value?"text-green-500":"text-red-500",children:e.value?s.dataVisualization.pressed:s.dataVisualization.released}):(0,i.jsx)("span",{children:"number"==typeof e.value?e.value.toFixed(2):e.value})})]},e.id))})})})})]})}function eQ(e){let{gamepadState:t}=e,[s,l]=(0,a.useState)([]),n=(0,a.useRef)([]),r=["A","B","X","Y","LB","RB","LT","RT","Back","Start","LS","RS","Up","Down","Left","Right","Guide"];(0,a.useEffect)(()=>{l(r.map(e=>({label:e,count:0,lastPressed:null})))},[]),(0,a.useEffect)(()=>{if(!t.connected)return;let e=Date.now();t.buttons.forEach((t,s)=>{if(s>=r.length)return;let i=n.current[s]||!1;t.pressed&&!i&&l(t=>{let i=[...t];return i[s]&&(i[s]={...i[s],count:i[s].count+1,lastPressed:e}),i})}),n.current=t.buttons.map(e=>e.pressed)},[t]);let o=Math.max(...s.map(e=>e.count),1);return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"Button Press Counter"}),(0,i.jsx)("button",{className:"text-xs text-muted-foreground hover:text-foreground",onClick:()=>{l(e=>e.map(e=>({...e,count:0,lastPressed:null})))},children:"Reset"})]}),(0,i.jsx)(c,{children:(0,i.jsx)(x,{className:"p-4",children:(0,i.jsx)("div",{className:"space-y-3",children:s.map((e,t)=>(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsx)("span",{children:e.label}),(0,i.jsx)("span",{className:"text-muted-foreground",children:e.count})]}),(0,i.jsx)(ee,{value:e.count/o*100,className:"h-2"})]},t))})})})]})}function e$(e){let{gamepadState:t,calibrationData:s}=e,[l,n]=(0,a.useState)([0,0,0,0]),r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{t.connected&&n([...t.axes])},[t]),(0,a.useEffect)(()=>{let e=r.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let s=e.width,i=e.height,a=s/2,n=i/2,o=Math.min(s,i)/3;t.clearRect(0,0,s,i),t.beginPath(),t.moveTo(a,0),t.lineTo(a,i),t.moveTo(0,n),t.lineTo(s,n),t.strokeStyle="#888",t.lineWidth=1,t.stroke();let c=s/5;l.forEach((e,s)=>{let a=e*o+n,l=c*(s+.5);t.fillStyle="#3b82f6",t.fillRect(l-c/4,n,c/2,-(a-n)),t.fillStyle="#000",t.font="12px sans-serif",t.textAlign="center",t.fillText("Axis ".concat(s),l,i-10)})},[l]),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"text-sm font-medium",children:"Axis Value Graph"}),(0,i.jsx)(c,{children:(0,i.jsx)(x,{className:"p-4",children:(0,i.jsx)("canvas",{ref:r,width:400,height:200,className:"border border-border rounded-md bg-card"})})})]})}function e0(e){let{gamepadState:t}=e;return t.connected?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Device Information"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Device ID"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:t.id})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Index"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:t.index})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Mapping"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:t.mapping})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Connected"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"Yes"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Buttons"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:t.buttons.length})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Axes"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:t.axes.length})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Vibration"}),(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:t.vibrationActuator?"Supported":"Not supported"})]})]})]})}),(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Raw Input Values"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Buttons"}),(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:t.buttons.map((e,t)=>(0,i.jsxs)("div",{className:"text-sm p-2 border rounded-md",children:[(0,i.jsxs)("div",{className:"font-medium",children:["Button ",t]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Pressed: ",e.pressed?"Yes":"No"]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Value: ",e.value.toFixed(2)]})]},t))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Axes"}),(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:t.axes.map((e,t)=>(0,i.jsxs)("div",{className:"text-sm p-2 border rounded-md",children:[(0,i.jsxs)("div",{className:"font-medium",children:["Axis ",t]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Value: ",e.toFixed(4)]})]},t))})]})]})]})})]}):(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-6 text-center",children:[(0,i.jsx)("div",{className:"text-lg font-medium text-muted-foreground",children:"No gamepad connected"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Connect a gamepad to view device information"})]})})}function e2(e){let{gamepadState:t,calibrationData:s}=e,[l,n]=(0,a.useState)("input-log"),{t:r,isRTL:o}=(0,f.o)();return(0,i.jsx)(c,{children:(0,i.jsxs)(x,{className:"p-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:r.dataVisualization.title}),(0,i.jsxs)(en,{value:l,onValueChange:n,className:"w-full",children:[(0,i.jsxs)(er,{className:"grid grid-cols-4 mb-4 ".concat(o?"rtl-direction":""),children:[(0,i.jsx)(eo,{value:"input-log",className:o?"order-0":"",children:r.dataVisualization.inputLog}),(0,i.jsx)(eo,{value:"button-counter",className:o?"order-1":"",children:r.dataVisualization.buttonCounter}),(0,i.jsx)(eo,{value:"axis-graph",className:o?"order-2":"",children:r.dataVisualization.axisGraph}),(0,i.jsx)(eo,{value:"device-info",className:o?"order-3":"",children:r.dataVisualization.deviceInfo})]}),(0,i.jsx)(ec,{value:"input-log",className:o?"text-right":"",children:(0,i.jsx)(eK,{gamepadState:t})}),(0,i.jsx)(ec,{value:"button-counter",className:o?"text-right":"",children:(0,i.jsx)(eQ,{gamepadState:t})}),(0,i.jsx)(ec,{value:"axis-graph",className:o?"text-right":"",children:(0,i.jsx)(e$,{gamepadState:t,calibrationData:s})}),(0,i.jsx)(ec,{value:"device-info",className:o?"text-right":"",children:(0,i.jsx)(e0,{gamepadState:t})})]})]})})}eJ.displayName=eq.VM.displayName;let e1="joystick-tools-calibration-profiles",e4={deadZones:{leftStick:.1,rightStick:.1,triggers:.05},sensitivity:{leftStick:1,rightStick:1,triggers:1},invert:{leftStickX:!1,leftStickY:!1,rightStickX:!1,rightStickY:!1}},e5=()=>{try{let e=localStorage.getItem(e1);if(!e)return[];let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Error loading calibration profiles:",e),[]}},e3=e=>{try{localStorage.setItem(e1,JSON.stringify(e))}catch(e){console.error("Error saving calibration profiles:",e)}};var e6=s(7835);function e8(){let{language:e,setLanguage:t,t:s}=(0,f.o)(),a=e=>{t(e)};return(0,i.jsxs)(eR,{children:[(0,i.jsx)(eI,{asChild:!0,children:(0,i.jsxs)(S,{variant:"outline",size:"icon",children:[(0,i.jsx)(e6.A,{className:"h-[1.2rem] w-[1.2rem]"}),(0,i.jsx)("span",{className:"sr-only",children:"Toggle language"})]})}),(0,i.jsxs)(ez,{align:"end",children:[(0,i.jsx)(eL,{onClick:()=>a("en"),className:"en"===e?"bg-accent":"",children:s.language.english}),(0,i.jsx)(eL,{onClick:()=>a("ar"),className:"ar"===e?"bg-accent":"",children:s.language.arabic})]})]})}function e9(){let{gamepadState:e,calibrationData:t,setCalibrationData:s,profiles:l,activeProfileId:n,saveProfile:r,updateProfile:o,deleteProfile:c,loadProfile:d}=function(){let[e,t]=(0,a.useState)({}),[s,i]=(0,a.useState)(e4),[l,n]=(0,a.useState)([]),[r,o]=(0,a.useState)(null),c=(0,a.useRef)(null),d=(0,a.useRef)(!1);(0,a.useEffect)(()=>{!d.current&&(n(e5()),d.current=!0)},[]),(0,a.useEffect)(()=>(window.addEventListener("gamepadconnected",u),window.addEventListener("gamepaddisconnected",m),c.current=requestAnimationFrame(x),()=>{window.removeEventListener("gamepadconnected",u),window.removeEventListener("gamepaddisconnected",m),c.current&&cancelAnimationFrame(c.current)}),[]);let u=(0,a.useCallback)(e=>{let{gamepad:s}=e;t(e=>({...e,[s.index]:{connected:!0,id:s.id,index:s.index,timestamp:s.timestamp,buttons:s.buttons.map(e=>({pressed:e.pressed,touched:e.touched,value:e.value})),axes:[...s.axes],mapping:s.mapping,vibrationActuator:s.vibrationActuator}}));let a=e5();n(a);let l=a.find(e=>e.gamepadId===s.id);l?(i(l.calibrationData),o(l.id),f(l.id,a)):(i(e4),o(null))},[]),m=(0,a.useCallback)(e=>{let{gamepad:s}=e;t(e=>{let t={...e};return delete t[s.index],t})},[]),x=()=>{for(let e of navigator.getGamepads())e&&t(t=>({...t,[e.index]:{connected:!0,id:e.id,index:e.index,timestamp:e.timestamp,buttons:e.buttons.map(e=>({pressed:e.pressed,touched:e.touched,value:e.value})),axes:[...e.axes],mapping:e.mapping,vibrationActuator:e.vibrationActuator}}));c.current=requestAnimationFrame(x)},f=(0,a.useCallback)((e,t)=>{let s=t||l,i=s.findIndex(t=>t.id===e);if(-1===i)return;let a=[...s];return a[i]={...a[i],lastUsed:Date.now()},n(a),e3(a),a},[l]),h=(0,a.useCallback)(t=>{let i=Object.values(e)[0];if(!(null==i?void 0:i.connected))return null;let a=e5(),l=Math.random().toString(36).substring(2,15),r=[...a,{id:l,name:t,gamepadId:i.id,calibrationData:s,lastUsed:Date.now()}];return n(r),o(l),e3(r),l},[e,s]),g=(0,a.useCallback)(t=>{if(!t)return!1;let i=e5(),a=i.findIndex(e=>e.id===t);if(-1===a)return!1;let l=Object.values(e)[0];if(!(null==l?void 0:l.connected))return!1;let r=[...i];return r[a]={...r[a],calibrationData:s,lastUsed:Date.now()},n(r),e3(r),!0},[e,s]),p=(0,a.useCallback)(e=>{let t=e5(),s=t.find(t=>t.id===e);if(!s)return!1;i(s.calibrationData),o(e);let a=f(e,t);return a&&n(a),!0},[f]),v=(0,a.useCallback)(e=>{let t=e5().filter(t=>t.id!==e);n(t),r===e&&(o(null),i(e4)),e3(t)},[r]),b=(0,a.useCallback)(e=>{if(i(e),r){let t=e5(),s=t.findIndex(e=>e.id===r);if(-1!==s){let i=[...t];i[s]={...i[s],calibrationData:e,lastUsed:Date.now()},n(i),e3(i)}}},[r]);return{gamepadState:Object.values(e)[0]||{connected:!1,id:"",index:-1,timestamp:0,buttons:Array(20).fill({pressed:!1,touched:!1,value:0}),axes:[,,,,].fill(0),mapping:"standard",vibrationActuator:null},calibrationData:s,setCalibrationData:b,profiles:l,activeProfileId:r,saveProfile:h,updateProfile:g,deleteProfile:v,loadProfile:p}}(),{theme:u,toggleTheme:m}=function(){let[e,t]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e="light";{let s=localStorage.getItem("theme");s?e=s:window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),t(e)}},[]),(0,a.useEffect)(()=>{{let t=window.document.documentElement;t.classList.remove("light","dark"),t.classList.add(e),localStorage.setItem("theme",e)}},[e]),{theme:e,toggleTheme:()=>{t(e=>"dark"===e?"light":"dark")}}}(),[x,h]=(0,a.useState)("visualization"),{t:g,direction:v,isRTL:j}=(0,f.o)();return(0,i.jsx)(p,{gamepadState:e,children:(0,i.jsx)("main",{className:"min-h-screen p-4 md:p-8 bg-background text-foreground ".concat(j?"rtl":"ltr"),children:(0,i.jsxs)("div",{className:"container mx-auto space-y-6",children:[(0,i.jsxs)("div",{className:"flex ".concat(j?"flex-row-reverse":"flex-row"," justify-between items-center"),children:[(0,i.jsx)(Q,{gamepadState:e,theme:u,toggleTheme:m}),(0,i.jsx)(e8,{})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 ".concat(j?"lg:rtl-grid":""),children:[(0,i.jsx)("div",{className:"lg:col-span-1 ".concat(j?"lg:order-last":""),children:(0,i.jsx)(I,{activeTab:x,setActiveTab:h,gamepadState:e,calibrationData:t,setCalibrationData:s})}),(0,i.jsxs)("div",{className:"lg:col-span-2 ".concat(j?"lg:order-first":""),children:["visualization"===x&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(b,{gamepadState:e,calibrationData:t}),(0,i.jsx)(e2,{gamepadState:e,calibrationData:t})]}),"testing"===x&&(0,i.jsx)(e_,{gamepadState:e,calibrationData:t,setCalibrationData:s,profiles:l,activeProfileId:n,saveProfile:r,loadProfile:d,updateProfile:o,deleteProfile:c}),"about"===x&&(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsx)(R,{})})]})]})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[233,441,684,358],()=>t(338)),_N_E=e.O()}]);